<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Lesson 1: Introduction to R and RStudio</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Collaborative and Reproducible Data Science in R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="syllabus.html">Syllabus</a>
</li>
<li>
  <a href="installation.html">Installation</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Lectures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Lecture notes</li>
    <li>
      <a href="lesson1-rstudio.html">Lesson 1: R Studio</a>
    </li>
    <li>
      <a href="lesson2-rmarkdown-github.html">Lesson 2: RMarkdown and GitHub</a>
    </li>
    <li>
      <a href="lesson3-version-control.html">Lesson 3: Version Control</a>
    </li>
    <li>
      <a href="lesson4-collaboration.html">Lesson 4: Collaborating with GitHub</a>
    </li>
    <li>
      <a href="lesson5-collaboration-part2.html">Lesson 5: Collaborating and Making Websites</a>
    </li>
  </ul>
</li>
<li>
  <a href="assignments.html">Assignments</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Lesson 1: Introduction to R and RStudio</h1>

</div>


<p><br></p>
<div id="overview" class="section level2">
<h2>Overview</h2>
<p>Welcome to the course. Please review the <a href="https://github.com/nt246/NTRES6940-data-science/blob/master/slides/Slides_Class1_2020_0914.pdf">introductory slides</a> describing the focus, content, and goal of this course.</p>
<p>We will not have time to provide a comprehensive introduction to R and RStudio. Today, we will focus on highlighting a few key functionalities and tips that will be important for this course and get us all on the same page.</p>
<p><br></p>
</div>
<div id="acknowledgements-and-resources" class="section level2">
<h2>Acknowledgements and resources</h2>
<p>Most of today’s lesson has been borrowed (with permission) from the <a href="http://ohi-science.org/data-science-training/">Ocean Health Index Data Science Training</a></p>
<p>Other useful resources to check out include the following:</p>
<ul>
<li><a href="https://stat545.com/r-basics.html">Jenny Bryan’s STAT545 Chapter 2 R basics and workflows</a></li>
<li><a href="https://swirlstats.com/">R Swirl interactive lessons</a></li>
<li><a href="https://datacarpentry.org/R-ecology-lesson/">Data Carpentry’s Introduction to R for Ecologists</a></li>
</ul>
<p><br></p>
<p>RStudio has great resources about its IDE (IDE stands for integrated development environment):</p>
<ul>
<li><a href="https://www.rstudio.com/resources/webinars/">Webinars</a></li>
<li><a href="https://www.rstudio.com/resources/cheatsheets/">Cheatsheets</a></li>
</ul>
<p><br></p>
</div>
<div id="orientation-r-and-rstudio" class="section level2">
<h2>Orientation: R and RStudio</h2>
<p>In this course, we will be using R with RStudio. R is the base statistical computing environment. RStudio is an Interactive Development Environment (IDE) that makes it much easier to use R by helping us organize our work and do things like auto-complete, syntax highlighting etc.</p>
<p>After you install R and RStudio, you only need to open RStudio.</p>
<p>When you open RStudio, it will look like this:</p>
<p><img src="assets/RStudio_IDE.png" /></p>
<p>Notice the default panes:</p>
<ul>
<li>Console (entire left)</li>
<li>Environment/History (tabbed in upper right)</li>
<li>Files/Plots/Packages/Help (tabbed in lower right)</li>
</ul>
<p>FYI: you can change the default location of the panes, among many other things: <a href="https://support.rstudio.com/hc/en-us/articles/200549016-Customizing-RStudio">Customizing RStudio</a>.</p>
<p>An important first question: <strong>where are we?</strong></p>
<p>If you’ve have opened RStudio for the first time, you’ll be in your Home directory. This is noted by the <code>~/</code> at the top of the console. You can see too that the Files pane in the lower right shows what is in the Home directory where you are. You can navigate around within that Files pane and explore, but note that you won’t change where you are: even as you click through you’ll still be Home: <code>~/</code>.</p>
<p><img src="assets/RStudio_IDE_homedir.png" /></p>
<p>OK let’s go into the Console, where we interact with the live R process.</p>
<p>Make an assignment and then inspect the object you created by typing its name on its own.</p>
<pre class="r"><code>x &lt;- 3 * 4
x</code></pre>
<pre><code>## [1] 12</code></pre>
<p>In my head I hear, e.g., “x gets 12”.</p>
<p>All R statements where you create objects – “assignments” – have this form: <code>objectName &lt;- value</code>.</p>
<p>I’ll write it in the console with a hashtag <code>#</code>, which is the way R comments so it won’t be evaluated.</p>
<pre class="r"><code>## objectName &lt;- value
## This is also how you write notes in your code to explain what you are doing.</code></pre>
<p>Object names cannot start with a digit and cannot contain certain other characters such as a comma or a space. You will be wise to adopt a <a href="http://en.wikipedia.org/wiki/Snake_case">convention for demarcating words</a> in names.</p>
<pre class="r"><code># i_use_snake_case
# other.people.use.periods
# evenOthersUseCamelCase</code></pre>
<p><br></p>
</div>
<div id="shortcuts-and-autocomplete" class="section level2">
<h2>Shortcuts and autocomplete</h2>
<p>Make an assignment</p>
<pre class="r"><code>this_is_a_really_long_name &lt;- 2.5</code></pre>
<p>To inspect this variable, instead of typing it, we can press the up arrow key and call your command history, with the most recent commands first. Let’s do that, and then delete the assignment:</p>
<pre class="r"><code>this_is_a_really_long_name</code></pre>
<pre><code>## [1] 2.5</code></pre>
<p>Another way to inspect this variable is to begin typing <code>this_</code>…and RStudio will automatically have suggested completions for you that you can select by hitting the tab key, then press return.</p>
<p><br></p>
<blockquote>
<p>Shortcuts You will make lots of assignments and the operator <code>&lt;-</code> is a pain to type. Don’t be lazy and use <code>=</code>, although it would work, because it will just sow confusion later. Instead, utilize <strong>RStudio’s keyboard shortcut: Alt + - (the minus sign)</strong>. Notice that RStudio automagically surrounds <code>&lt;-</code> with spaces, which demonstrates a useful code formatting practice. Code is miserable to read on a good day. Give your eyes a break and use spaces. RStudio offers many handy <a href="https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts">keyboard shortcuts</a>. Also, Alt+Shift+K brings up a keyboard shortcut reference card. My most common shortcuts include command-Z (undo), and combinations of arrow keys in combination with shift/option/command (moving quickly up, down, sideways, with or without highlighting.</p>
</blockquote>
<p><br></p>
</div>
<div id="error-messages-are-your-friends" class="section level2">
<h2>Error messages are your friends</h2>
<p>Implicit contract with the computer / scripting language: Computer will do tedious computation for you. In return, you will be completely precise in your instructions. Typos matter. Case matters. Pay attention to how you type.</p>
<p>Remember that this is a language, not unsimilar to English! There are times you aren’t understood – it’s going to happen. There are different ways this can happen. Sometimes you’ll get an error. This is like someone saying ‘What?’ or ‘Pardon’? Error messages can also be more useful, like when they say ‘I didn’t understand what you said, I was expecting you to say blah’. That is a great type of error message. Error messages are your friend. Google them (copy-and-paste!) to figure out what they mean.</p>
<p><br></p>
<img src="assets/practicalDev_googleErrorMessage.jpg" width="400"/>
<p><br></p>
<p>And also know that there are errors that can creep in more subtly, when you are giving information that is understood, but not in the way you meant. Like if I you are telling your European friend about a football game and she hears it but silently interprets it in a very different way (thinking football means soccer). This can leave you thinking you’ve gotten something across that the listener (or R) might silently interpret very differently. And as you continue telling your story the listener gets more and more confused… Clear communication is critical when you code: write clean, well documented code and check your work as you go to minimize these circumstances!</p>
<p><br></p>
</div>
<div id="r-functions-help-pages" class="section level2">
<h2>R functions, help pages</h2>
<p>R has a mind-blowing collection of built-in functions that are used with the same syntax: function name with parentheses around what the function needs to do what it is supposed to do. <code>function_name(argument1 = value1, argument2 = value2, ...)</code>. When you see this syntax, we say we are “calling the function”.</p>
<p>Let’s try using <code>seq()</code> which makes regular sequences of numbers and, while we’re at it, demo more helpful features of RStudio.</p>
<p>Type <code>se</code> and hit TAB. A pop up shows you possible completions. Specify <code>seq()</code> by typing more to disambiguate or using the up/down arrows to select. Notice the floating tool-tip-type help that pops up, reminding you of a function’s arguments. If you want even more help, press F1 as directed to get the full documentation in the help tab of the lower right pane.</p>
<p>Type the arguments <code>1, 10</code> and hit return.</p>
<pre class="r"><code>seq(1, 10)</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>We could probably infer that the <code>seq()</code> function makes a sequence, but let’s learn for sure. Type (and you can autocomplete) and let’s explore the help page:</p>
<pre class="r"><code>?seq 
help(seq) # same as ?seq</code></pre>
<p>The help page tells the name of the package in the top left, and broken down into sections:</p>
<ul>
<li>Description: An extended description of what the function does.</li>
<li>Usage: The arguments of the function and their default values.</li>
<li>Arguments: An explanation of the data each argument is expecting.</li>
<li>Details: Any important details to be aware of.</li>
<li>Value: The data the function returns.</li>
<li>See Also: Any related functions you might find useful.</li>
<li>Examples: Some examples for how to use the function.</li>
</ul>
<pre class="r"><code>seq(from = 1, to = 10) # same as seq(1, 10); R assumes by position</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="r"><code>seq(from = 1, to = 10, by = 2)</code></pre>
<pre><code>## [1] 1 3 5 7 9</code></pre>
<p>The above also demonstrates something about how R resolves function arguments. You can always specify in <code>name = value</code> form. But if you do not, R attempts to resolve by position. So above, it is assumed that we want a sequence <code>from = 1</code> that goes <code>to = 10</code>. Since we didn’t specify step size, the default value of <code>by</code> in the function definition is used, which ends up being 1 in this case. For functions I call often, I might use this resolve by position for the first argument or maybe the first two. After that, I always use <code>name = value</code>.</p>
<p>The examples from the help pages can be copy-pasted into the console for you to understand what’s going on. Remember we were talking about expecting there to be a function for something you want to do? Let’s try it.</p>
<div id="your-turn" class="section level3">
<h3>Your turn</h3>
<blockquote>
<p>Exercise: Talk to your neighbor(s) and look up the help file for a function that you know or expect to exist. Here are some ideas: <code>?getwd()</code>, <code>?plot()</code>, <code>min()</code>, <code>max()</code>, <code>?mean()</code>, <code>?log()</code>). And there’s also help for when you only sort of remember the function name: double-question mark:</p>
</blockquote>
<pre class="r"><code>??install </code></pre>
<p>Not all functions have (or require) arguments:</p>
<pre class="r"><code>date()</code></pre>
<pre><code>## [1] &quot;Fri Sep 25 12:47:27 2020&quot;</code></pre>
<p><br></p>
</div>
</div>
<div id="packages" class="section level2">
<h2>Packages</h2>
<p>So far we’ve been using a couple functions from base R, such as <code>seq()</code> and <code>date()</code>. But, one of the amazing things about R is that a vast user community is always creating new functions and packages that expand R’s capabilities. In R, the fundamental unit of shareable code is the package. A package bundles together code, data, documentation, and tests, and is easy to share with others. They increase the power of R by improving existing base R functionalities, or by adding new ones.</p>
<p>The traditional place to download packages is from CRAN, the <a href="https://cran.r-project.org/">Comprehensive R Archive Network</a>, which is where you downloaded R. You can also install packages from GitHub, which we’ll do tomorrow.</p>
<p>You don’t need to go to CRAN’s website to install packages, this can be accomplished within R using the command <code>install.packages(&quot;package-name-in-quotes&quot;)</code>. Let’s install a small, fun package <code>praise</code>. You need to use quotes around the package name.:</p>
<pre><code>install.packages(&quot;praise&quot;)</code></pre>
<p>Now we’ve installed the package, but we need to tell R that we are going to use the functions within the <code>praise</code> package. We do this by using the function <code>library()</code>.</p>
<p><strong>What’s the difference between a package and a library?</strong><br />
Sometimes there is a confusion between a package and a library, and you can find people calling “libraries” to packages.</p>
<p>Please don’t get confused: <code>library()</code> is the command used to load a package, and it refers to the place where the package is contained, usually a folder on your computer, while a package is the collection of functions bundled conveniently.</p>
<pre class="r"><code>library(praise)</code></pre>
<p>Now that we’ve loaded the <code>praise</code> package, we can use the single function in the package, <code>praise()</code>, which returns a randomized praise to make you feel better.</p>
<pre class="r"><code>praise()</code></pre>
<pre><code>## [1] &quot;You are neat!&quot;</code></pre>
<p><br></p>
</div>
<div id="clearing-the-environment" class="section level2">
<h2>Clearing the environment</h2>
<p>Now look at the objects in your environment (workspace) – in the upper right pane. The workspace is where user-defined objects accumulate.</p>
<p><img src="assets/RStudio_IDE_env.png" /></p>
<p>You can also get a listing of these objects with a few different R commands:</p>
<pre class="r"><code>objects()</code></pre>
<pre><code>## [1] &quot;this_is_a_really_long_name&quot; &quot;x&quot;</code></pre>
<pre class="r"><code>ls()</code></pre>
<pre><code>## [1] &quot;this_is_a_really_long_name&quot; &quot;x&quot;</code></pre>
<p>If you want to remove the object named <code>weight_kg</code>, you can do this:</p>
<pre class="r"><code>rm(weight_kg)</code></pre>
<pre><code>## Warning in rm(weight_kg): object &#39;weight_kg&#39; not found</code></pre>
<p>To remove everything:</p>
<pre class="r"><code>rm(list = ls())</code></pre>
<p>or click the broom in RStudio’s Environment pane.</p>
<p>But this command is problematic -see <a href="https://rstats.wtf/save-source.html#rm-list-ls">Jenny Bryan’s explanation</a>.</p>
<p>For reproducibility, it is critical that you delete your objects and restart your R session frequently. You don’t want your whole analysis to only work in whatever way you’ve been working right now — you need it to work next week, after you upgrade your operating system, etc. Restarting your R session will help you identify and account for anything you need for your analysis.</p>
<p>We will keep coming back to this theme but let’s restart our R session together: Go to the top menus: Session &gt; Restart R.</p>
<div id="your-turn-1" class="section level3">
<h3>Your turn</h3>
<blockquote>
<p>Exercise: Clear your workspace, then create a few new variables. Create a variable that is the mean of a sequence of 1-20. What’s a good name for your variable? Does it matter what your ‘by’ argument is? Why?</p>
</blockquote>
<p><br></p>
<p>Highly recommended: <a href="https://www.r-bloggers.com/using-r-dont-save-your-workspace/">Don’t save your workspace when you quit RStudio</a>. Make this a default: * Go to “RStudio” -&gt; “Preferences…” -&gt; “General” * Uncheck “restore .RData into workspace on startup” * Select: “Save workspace to RData on exit:” Never</p>
<p><img src="assets/rstudio-workspace.png" /></p>
<p><br></p>
</div>
</div>
<div id="home-directory-relative-vs.absolute-paths-and-rstudio-projects" class="section level2">
<h2>Home directory, relative vs. absolute paths and RStudio projects</h2>
<p>See <a href="https://r4ds.had.co.nz/workflow-projects.html#where-does-your-analysis-live">sections 8.2-8.4 in Grolemund and Wickham’s R for Data Science</a></p>
<p>Additional tips on RStudio projects <a href="https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects">here</a></p>
<p>On Wednesday, we will set up an RStudio project for you to work in during this course (we’re waiting until Wednesday because we want to integrate it with GitHub from the get-go).</p>
<p><br></p>
</div>
<div id="saving-your-code-in-scripts" class="section level2">
<h2>Saving your code in scripts</h2>
<p>See <a href="https://r4ds.had.co.nz/workflow-projects.html#where-does-your-analysis-live">Chapter 6 in Grolemund and Wickham’s R for Data Science</a></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
